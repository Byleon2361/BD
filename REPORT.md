# Отчет по работе с базой данных новостного агрегатора


**Основные функции:**
- `RANK()`, `DENSE_RANK()`, `ROW_NUMBER()` - ранжирование
- `LAG()`, `LEAD()` - доступ к предыдущим/следующим строкам
- `SUM() OVER()`, `AVG() OVER()` - агрегаты по окну

### Агрегирующие функции
**Определение:** Функции, которые выполняют вычисления над набором значений и возвращают одно результирующее значение.

**Примеры:**
- `COUNT()` - подсчет строк
- `SUM()` - сумма значений
- `AVG()` - среднее значение
- `MAX()`, `MIN()` - максимальное/минимальное значение

### JOIN (объединение таблиц)
**Определение:** Операция соединения данных из двух или более таблиц на основе связанных столбцов.

**Типы JOIN:**
- `INNER JOIN` - только совпадающие строки
- `LEFT JOIN` - все строки из левой таблицы + совпадающие из правой
- `RIGHT JOIN` - все строки из правой таблицы + совпадающие из левой
- `FULL JOIN` - все строки из обеих таблиц

## 2. Анализ файлов запросов

### Файл 1: `queries_with_joined_tables.sql`

**Назначение:** Запросы для извлечения связанных данных из multiple таблиц

**Ключевые запросы:**

1. **2 таблицы:**
   - Новости с категориями (топ-20 за 7 дней)
   - Статистика авторов (топ-10 по количеству статей)

2. **3 таблицы:**
   - Новости с категориями и источниками
   - Комментарии с информацией о новостях
   - Авторы с их новостями и категориями
   - Новости с тегами и категориями

3. **4 таблицы:**
   - Расширенная информация о новостях (категория, источник, автор, теги)

4. **5 таблиц:**
   - Полная аналитика новостей (включая комментарии и метрики вовлеченности)

### Файл 2: `window_functions.sql`

**Назначение:** Аналитические запросы с использованием оконных функций

**Ключевые запросы:**

1. **Ранжирование новостей** - определение позиции внутри категории и глобального рейтинга
2. **Сравнение производительности** - анализ изменения просмотров между статьями автора
3. **Накопительные итоги** - сумма просмотров по месяцам с нарастающим итогом
4. **Процентное соотношение** - доля просмотров каждой новости в своей категории
5. **Скользящее среднее** - анализ трендов просмотров за 7-дневный период

### Файл 3: `aggregating_queries.sql`

**Назначение:** Сводная статистика и агрегированные отчеты

**Ключевые запросы:**

1. **Статистика по категориям** - количество новостей, средние и максимальные просмотры
2. **Рейтинг авторов** - полная статистика продуктивности и эффективности
3. **Временная аналитика** - активность и просмотры по месяцам
4. **Анализ тегов** - популярность и эффективность тегов
5. **Эффективность источников** - сравнительный анализ новостных источников

## 3. Анализ результатов выполнения

### Основные выводы из данных:

#### Производительность контента:
- **Категории** равномерно распределены (~14,000 статей в каждой)
- **Средние просмотры** варьируются от 24,739 (science) до 25,130 (business)
- **Максимальные просмотры** достигают 50,000 (entertainment)

#### Топ авторы:
- **Author_29** и **Author_67** - лидеры по количеству статей (~1070)
- **Author_68** - лучшие средние показатели просмотров (26,004 на статью)
- Все топ-авторы публикуют более 1000 статей

#### Временные тренды:
- Данные охватывают период с 2022 по 2025 год
- Стабильная активность публикаций throughout года
- Сентябрь 2025 показывает высокую активность (2189 статей)

#### Эффективность тегов:
- "breaking", "film", "research" - самые используемые теги
- "market" и "music" показывают лучшие средние просмотры

#### Сравнение источников:
- Все 8 источников имеют сопоставимое количество статей
- TechCrunch и CNN лидируют по общему количеству просмотров

