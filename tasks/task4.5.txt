–ê–ù–ê–õ–ò–ó –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò –ë–ê–ó–´ –î–ê–ù–ù–´–•
‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:
–ó–∞–ø—Ä–æ—Å 1: 800 ms ‚ö†Ô∏è

–ó–∞–ø—Ä–æ—Å 2: 852 ms ‚ö†Ô∏è

–ó–∞–ø—Ä–æ—Å 3: 1165 ms üî¥ –°–ê–ú–´–ô –ú–ï–î–õ–ï–ù–ù–´–ô

–ó–∞–ø—Ä–æ—Å 5: 920 ms ‚ö†Ô∏è

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´:
1. –ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (Seq Scan)
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Parallel Seq Scan on news

–ö–∞–∂–¥—ã–π —Ä–∞–∑ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç—Å—è 3 –º–ª–Ω —Å—Ç—Ä–æ–∫

Buffers read: 157,000+ - –æ–≥—Ä–æ–º–Ω—ã–π –æ–±—ä–µ–º —á—Ç–µ–Ω–∏—è —Å –¥–∏—Å–∫–∞

2. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –¥–∏—Å–∫–µ (–º–µ–¥–ª–µ–Ω–Ω–æ!)
–ó–∞–ø—Ä–æ—Å 3: Sort Method: external merge Disk: 8-9MB

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: temp read=2984 written=3136

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–µ—Ö–≤–∞—Ç–∫—É –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

3. –ù–∏–∑–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
Cache hit ratio: ~300 buffers –∏–∑ 157,000 = 0.2% ‚ùå

–ü–æ—á—Ç–∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è —Å –¥–∏—Å–∫–∞, –∞ –Ω–µ –∏–∑ –ø–∞–º—è—Ç–∏
*********************************
–í–æ–æ–±—â–µ–º monitoring —ç—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≥–æ–≤–æ—Ä–∏—Ç —á—Ç–æ –≤—Å–µ –æ—á–µ–Ω—å –ø–ª–æ—Ö–æ
docker-compose up -d
docker cp monitoring_optimized.sql bd-postgres-1:/tmp/
docker exec bd-postgres-1 psql -U postgres -d new_bd -f /tmp/monitoring_optimized.sql
—ç—Ç–æ –∏ —Ç–∞–∫ —Ö–æ—Ä–æ—à–µ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ , –Ω–æ –µ—Å–ª–∏ —Å–∫–∞–∂—É—Ç —á—Ç–æ –Ω—É–∂–Ω–æ —Å–∏–ª—å–Ω–µ–µ —Ç–æ –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–ª–∏ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ 7000-12000 —Ä–∞–∑! –≤–æ—Ç –∏—Ö –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å