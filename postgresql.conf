# Основные настройки
max_connections = 200
shared_buffers = 1GB
effective_cache_size = 2GB
work_mem = 512MB
maintenance_work_mem = 1GB

# WAL и репликация
wal_level = replica
max_wal_senders = 10
max_replication_slots = 10

# Параллелизм
max_parallel_workers_per_gather = 4
max_worker_processes = 8

# Оптимизация запросов
random_page_cost = 1.1
effective_io_concurrency = 200

# Логирование (опционально для отладки)
log_statement = 'none'  # вместо 'all' для production
log_duration = off

# Расширения
shared_preload_libraries = 'pg_stat_statements'

# Настройки pg_stat_statements
pg_stat_statements.track = all
pg_stat_statements.max = 10000